workflow:
  as: cucushift-installer-rehearse-aws-ipi-ovn-winc-techpreview
  steps:
    env:
      SUB_CHANNEL: stable
      SUB_INSTALL_NAMESPACE: openshift-windows-machine-config-operator
      SUB_PACKAGE: windows-machine-config-operator
      SUB_TARGET_NAMESPACES: '!install'
      SUB_SOURCE: "qe-app-registry"
      WINDOWS_NODE_REPLICAS: 2
    pre:
    - chain: cucushift-installer-rehearse-aws-ipi-ovn-winc-techpreview-provision
    test:
    - ref: cucushift-installer-check
    post:
    - chain: cucushift-installer-rehearse-aws-ipi-deprovision
  documentation: |-
    This is the workflow to trigger Prow's rehearsal test when submitting installer steps/chain/workflow which require Windows workers as part of the cluster. For 4.10 it only covers ccm, for 4.11, 4.12 and 4.13 it covers capi+ccm, and ccm GA on AWS in 4.14 then it only covers capi in 4.14.
